{
  "version": 3,
  "sources": ["../../plugin/index.ts"],
  "sourcesContent": ["figma.showUI(__html__, {\n  width: 300,\n  height: 500,\n});\n\n// let designData;\nlet image_list: Array<string> = [];\nfigma.ui.onmessage = (msg) => {\n  //   console.log(msg.type, msg.data);\n  if (msg.type === \"generate\") {\n    image_list = msg.data.image_list;\n    createDesign(msg.data.data);\n    console.log(image_list);\n  }\n};\n\n// const frame = figma.createFrame();\n\n// frame.name = \"Frame\";\nconsole.log(\"image_links\", image_list);\n\nasync function createDesign(data: any[]) {\n  let idx = 0;\n  for (const element of data) {\n    let figmaNode: SceneNode;\n    if (element.type === \"RECTANGLE\") {\n      figmaNode = figma.createRectangle();\n      figmaNode.x = element.x;\n      figmaNode.y = element.y;\n      figmaNode.resize(element.width, element.height);\n      figmaNode.name = element.name;\n      figmaNode.setPluginData(\"customNodeId\", element.id);\n      figmaNode.fills = element.fills;\n      figmaNode.cornerRadius = element.cornerRadius;\n      if (element.name === \"IMAGENODE\") {\n        console.log(\"setting background image \", idx, image_list[idx]);\n        figma\n          .createImageAsync(image_list[idx])\n          .then(async (image: Image) => {\n            // Render the image by filling the rectangle.\n            if (\"fills\" in figmaNode) {\n              figmaNode.fills = [\n                {\n                  type: \"IMAGE\",\n                  imageHash: image.hash,\n                  scaleMode: \"FILL\",\n                },\n              ];\n\n              console.log(\"background image setted \", idx);\n            }\n          })\n          .catch((err) => {\n            console.log(\"ERROR setting bg image\", err);\n          });\n        idx++;\n      } else if (element.name.includes(\"Image\")) {\n        console.log(\"setting image \", idx, image_list[idx]);\n        figma\n          .createImageAsync(image_list[idx])\n          .then(async (image: Image) => {\n            // Render the image by filling the rectangle.\n            if (\"fills\" in figmaNode) {\n              figmaNode.fills = [\n                {\n                  type: \"IMAGE\",\n                  imageHash: image.hash,\n                  scaleMode: \"FILL\",\n                },\n              ];\n\n              console.log(\"image setted \", idx);\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n        idx++;\n      }\n      //   frame.appendChild(figmaNode);\n    } else if (element.type === \"TEXT\") {\n      await figma.loadFontAsync(element.fontName);\n      figmaNode = figma.createText();\n      figmaNode.x = element.x;\n      figmaNode.y = element.y;\n      figmaNode.resize(element.width, element.height);\n      figmaNode.characters = element.characters;\n      figmaNode.fontSize = element.fontSize;\n      figmaNode.name = element.name;\n      figmaNode.fontName = element.fontName;\n      figmaNode.fills = element.fills;\n      figmaNode.textAlignHorizontal = element.textAlignHorizontal;\n      figmaNode.textAlignVertical = element.textAlignVertical;\n      figmaNode.setPluginData(\"customNodeId\", element.id);\n      //   frame.appendChild(figmaNode);\n    } else if (element.type === \"LINE\") {\n      figmaNode = figma.createLine();\n      figmaNode.x = element.x;\n      figmaNode.y = element.y;\n      figmaNode.resize(element.width, element.height);\n      figmaNode.fills = element.fills;\n      figmaNode.name = element.name;\n      figmaNode.setPluginData(\"customNodeId\", element.id);\n      //   frame.appendChild(figmaNode);\n    }\n  }\n  //   figma.viewport.scrollAndZoomIntoView(frame.children);\n  //   figma.group([frame], figma.currentPage);\n  //   const minX = Math.min(...data.map((node) => node.x));\n  //   const minY = Math.min(...data.map((node) => node.y));\n  //   const maxX = Math.max(...data.map((node) => node.x + node.width));\n  //   const maxY = Math.max(...data.map((node) => node.y + node.height));\n  //   frame.resize(maxX - minX, maxY - minY);\n  //   frame.x = minX;\n  //   frame.y = minY;\n}\n// createDesign(data);\n// console.log(\"--mydata--\", data);\n"],
  "mappings": "gOAAA,MAAM,OAAO,SAAU,CACrB,MAAO,IACP,OAAQ,GACV,CAAC,EAGD,IAAIA,EAA4B,CAAC,EACjC,MAAM,GAAG,UAAaC,GAAQ,CAExBA,EAAI,OAAS,aACfD,EAAaC,EAAI,KAAK,WACtBC,EAAaD,EAAI,KAAK,IAAI,EAC1B,QAAQ,IAAID,CAAU,EAE1B,EAKA,QAAQ,IAAI,cAAeA,CAAU,EAErC,SAAeE,EAAaC,EAAa,QAAAC,EAAA,sBACvC,IAAIC,EAAM,EACV,QAAWC,KAAWH,EAAM,CAC1B,IAAII,EACAD,EAAQ,OAAS,aACnBC,EAAY,MAAM,gBAAgB,EAClCA,EAAU,EAAID,EAAQ,EACtBC,EAAU,EAAID,EAAQ,EACtBC,EAAU,OAAOD,EAAQ,MAAOA,EAAQ,MAAM,EAC9CC,EAAU,KAAOD,EAAQ,KACzBC,EAAU,cAAc,eAAgBD,EAAQ,EAAE,EAClDC,EAAU,MAAQD,EAAQ,MAC1BC,EAAU,aAAeD,EAAQ,aAC7BA,EAAQ,OAAS,aACnB,QAAQ,IAAI,4BAA6BD,EAAKL,EAAWK,CAAG,CAAC,EAC7D,MACG,iBAAiBL,EAAWK,CAAG,CAAC,EAChC,KAAYG,GAAiBJ,EAAA,sBAExB,UAAWG,IACbA,EAAU,MAAQ,CAChB,CACE,KAAM,QACN,UAAWC,EAAM,KACjB,UAAW,MACb,CACF,EAEA,QAAQ,IAAI,2BAA4BH,CAAG,EAE/C,EAAC,EACA,MAAOI,GAAQ,CACd,QAAQ,IAAI,yBAA0BA,CAAG,CAC3C,CAAC,EACHJ,KACSC,EAAQ,KAAK,SAAS,OAAO,IACtC,QAAQ,IAAI,iBAAkBD,EAAKL,EAAWK,CAAG,CAAC,EAClD,MACG,iBAAiBL,EAAWK,CAAG,CAAC,EAChC,KAAYG,GAAiBJ,EAAA,sBAExB,UAAWG,IACbA,EAAU,MAAQ,CAChB,CACE,KAAM,QACN,UAAWC,EAAM,KACjB,UAAW,MACb,CACF,EAEA,QAAQ,IAAI,gBAAiBH,CAAG,EAEpC,EAAC,EACA,MAAOI,GAAQ,CACd,QAAQ,IAAIA,CAAG,CACjB,CAAC,EACHJ,MAGOC,EAAQ,OAAS,QAC1B,MAAM,MAAM,cAAcA,EAAQ,QAAQ,EAC1CC,EAAY,MAAM,WAAW,EAC7BA,EAAU,EAAID,EAAQ,EACtBC,EAAU,EAAID,EAAQ,EACtBC,EAAU,OAAOD,EAAQ,MAAOA,EAAQ,MAAM,EAC9CC,EAAU,WAAaD,EAAQ,WAC/BC,EAAU,SAAWD,EAAQ,SAC7BC,EAAU,KAAOD,EAAQ,KACzBC,EAAU,SAAWD,EAAQ,SAC7BC,EAAU,MAAQD,EAAQ,MAC1BC,EAAU,oBAAsBD,EAAQ,oBACxCC,EAAU,kBAAoBD,EAAQ,kBACtCC,EAAU,cAAc,eAAgBD,EAAQ,EAAE,GAEzCA,EAAQ,OAAS,SAC1BC,EAAY,MAAM,WAAW,EAC7BA,EAAU,EAAID,EAAQ,EACtBC,EAAU,EAAID,EAAQ,EACtBC,EAAU,OAAOD,EAAQ,MAAOA,EAAQ,MAAM,EAC9CC,EAAU,MAAQD,EAAQ,MAC1BC,EAAU,KAAOD,EAAQ,KACzBC,EAAU,cAAc,eAAgBD,EAAQ,EAAE,EAGtD,CAUF",
  "names": ["image_list", "msg", "createDesign", "data", "__async", "idx", "element", "figmaNode", "image", "err"]
}
