"use strict";(()=>{var o=(l,i,e)=>new Promise((a,t)=>{var m=n=>{try{g(e.next(n))}catch(c){t(c)}},f=n=>{try{g(e.throw(n))}catch(c){t(c)}},g=n=>n.done?a(n.value):Promise.resolve(n.value).then(m,f);g((e=e.apply(l,i)).next())});figma.showUI(__html__,{width:300,height:500});var s=[];figma.ui.onmessage=l=>{l.type==="generate"&&(s=l.data.image_list,d(l.data.data),console.log(s))};console.log("image_links",s);function d(l){return o(this,null,function*(){let i=0;for(let e of l){let a;e.type==="RECTANGLE"?(a=figma.createRectangle(),a.x=e.x,a.y=e.y,a.resize(e.width,e.height),a.name=e.name,a.setPluginData("customNodeId",e.id),a.fills=e.fills,a.cornerRadius=e.cornerRadius,e.name==="IMAGENODE"?(console.log("setting background image ",i,s[i]),figma.createImageAsync(s[i]).then(t=>o(this,null,function*(){"fills"in a&&(a.fills=[{type:"IMAGE",imageHash:t.hash,scaleMode:"FILL"}],console.log("background image setted ",i))})).catch(t=>{console.log("ERROR setting bg image",t)}),i++):e.name.includes("Image")&&(console.log("setting image ",i,s[i]),figma.createImageAsync(s[i]).then(t=>o(this,null,function*(){"fills"in a&&(a.fills=[{type:"IMAGE",imageHash:t.hash,scaleMode:"FILL"}],console.log("image setted ",i))})).catch(t=>{console.log(t)}),i++)):e.type==="TEXT"?(yield figma.loadFontAsync(e.fontName),a=figma.createText(),a.x=e.x,a.y=e.y,a.resize(e.width,e.height),a.characters=e.characters,a.fontSize=e.fontSize,a.name=e.name,a.fontName=e.fontName,a.fills=e.fills,a.textAlignHorizontal=e.textAlignHorizontal,a.textAlignVertical=e.textAlignVertical,a.setPluginData("customNodeId",e.id)):e.type==="LINE"&&(a=figma.createLine(),a.x=e.x,a.y=e.y,a.resize(e.width,e.height),a.fills=e.fills,a.name=e.name,a.setPluginData("customNodeId",e.id))}})}})();
//# sourceMappingURL=index.js.map
